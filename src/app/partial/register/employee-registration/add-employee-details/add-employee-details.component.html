<div class="d-flex justify-content-between align-items-center">
    <h5 class="text-main">Fill Employee Details</h5>
    <mat-icon [mat-dialog-close]="true">close</mat-icon>
</div>
<div class="row">
    <div class="form-container">
        <form [formGroup]="empRegistration" (ngSubmit)="submit(empRegistration.value)">
            <!-- <button mat-raised-button (click)="isLinear = !isLinear" id="toggle-linear">
            {{!isLinear ? 'Enable linear mode' : 'Disable linear mode'}}
        </button> -->
            <mat-stepper [linear]="isLinear" #stepper>
                <mat-step [stepControl]="empRegistration">

                    <ng-template matStepLabel>Personal Details</ng-template>
                    <!-- <mat-form-field appearance="fill">
                    <mat-label>Name</mat-label>
                    <input matInput placeholder="Last name, First name" formControlName="firstCtrl"
                        required>
                </mat-form-field> -->
                    <div class="col-sm-12 mt-3">
                        <div class="upload-image">
                            <img src="assets/images/user.jpg">
                            <button class="btn"><i class="fa-solid fa-plus"></i></button>
                            <input type="file" name="myfile" />
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Name</mat-label>
                                    <input matInput placeholder="Name" formControlName="name">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Employee Code</mat-label>
                                    <input matInput placeholder="Employee Code" formControlName="empCode">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Date Of Birth</mat-label>
                                    <input matInput [matDatepicker]="picker" formControlName="dob">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Email ID</mat-label>
                                    <input matInput placeholder="Enter Email id" formControlName="emailId">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Contact No 1</mat-label>
                                    <input matInput placeholder="Contact Number 1" formControlName="mobileNo1">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Contact No 2</mat-label>
                                    <input matInput placeholder="Contact No 2" formControlName="mobileNo2">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Address</mat-label>
                                    <textarea matInput placeholder="Enter Local Address"
                                        formControlName="localAddress"></textarea>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Address</mat-label>
                                    <textarea matInput placeholder="Enter Permanent Address"
                                        formControlName="permanentAddress"></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row align-items-center">
                            <div class="col-sm-6">
                                <mat-radio-group aria-label="Select an option" formControlName="gender">
                                    <mat-label>Gender</mat-label>
                                    <mat-radio-button [value]="gen.id" *ngFor="let gen of genderArr">{{gen.name}}
                                    </mat-radio-button>
                                </mat-radio-group>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Education</mat-label>
                                    <mat-select formControlName="education">
                                        <mat-option [value]="edu.id" *ngFor="let edu of educations">{{edu.name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Course</mat-label>
                                    <textarea matInput placeholder="Enter Course" formControlName="course"></textarea>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Certification</mat-label>
                                    <textarea matInput placeholder="Enter Certification"
                                        formControlName="additionalCertification"></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Total Experience</mat-label>
                                    <textarea matInput placeholder="Enter total years of experience"
                                        formControlName="totalExperience"></textarea>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Domain</mat-label>
                                    <textarea matInput placeholder="Enter your work domain"
                                        formControlName="workDomain"></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label>SkillSet</mat-label>
                                <textarea matInput placeholder="Describe your skillset"
                                    formControlName="skillset"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="mt-3 text-end">
                        <button mat-raised-button matStepperNext class="btn-main" type="button">Next</button>
                    </div>
                </mat-step>
                <mat-step [stepControl]="empRegistration" label="Work Profile Details">

                    <div class="row">
                        <div class="col-sm-6">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label> Enter Compnay </mat-label>
                                <input matInput placeholder="Enter Company">
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label> Enter Department </mat-label>
                                <input matInput placeholder="Enter department">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label> Enter Designation </mat-label>
                                <input matInput placeholder="Enter designation">
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label> User Type</mat-label>
                                <input matInput placeholder="Enter user type">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-sm-6">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label>Choose a date</mat-label>
                                <input matInput [matDatepicker]="picker1">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field appearance="legacy" class="w-100">
                                <mat-label>Reference</mat-label>
                                <textarea matInput placeholder="Enter Refernce"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="">
                        <div class="text-end">
                            <button mat-stroked-button matStepperPrevious class="me-3 btn-outline-main"
                                type="button">Back</button>
                            <button mat-raised-button matStepperNext class="btn-main" type="button">Next</button>
                        </div>
                    </div>

                </mat-step>
                <mat-step [stepControl]="empRegistration" label="Bank Details">

                    <div class="">

                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label>Enter Bank Name</mat-label>
                                    <input matInput placeholder="Enter Bank Name" formControlName="bankId">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label> Branch Name</mat-label>
                                    <input matInput placeholder="Enter Branch Name" formControlName="branchId">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row align-items-center">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label> Bank Account Number</mat-label>
                                    <input matInput placeholder="Enter Accnt Number" formControlName="accountNo">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <div class="upload-btn-wrapper">
                                    <button mat-raised-button class="btn-main">
                                        <i class="fa-solid fa-upload me-2"></i>
                                        Upload Document
                                    </button>
                                    <input type="file">
                                </div>
                            </div>
                            <div class="col-sm">
                                <div class="text-end mb-3">
                                    <button mat-raised-button matStepperPrevious
                                        class="me-3 btn-outline-main">Back</button>
                                    <button mat-raised-button matStepperNext class="btn-main"
                                        type="button">Next</button>
                                </div>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table mat-table [dataSource]="dataSource" class="w-100 dashboard-table">

                                <!--- Note that these columns can be defined in any order.
                                      The actual rendered columns are set as a property on the row definition" -->

                                <!-- Position Column -->
                                <ng-container matColumnDef="srno">
                                    <th mat-header-cell *matHeaderCellDef> Sr.No. </th>
                                    <td mat-cell *matCellDef="let element"> {{element.srno}} </td>
                                </ng-container>

                                <!-- Name Column -->
                                <ng-container matColumnDef="document_name">
                                    <th mat-header-cell *matHeaderCellDef>Document Name </th>
                                    <td mat-cell *matCellDef="let element"> {{element.document_name}} </td>
                                </ng-container>

                                <!-- Weight Column -->
                                <ng-container matColumnDef="document_number">
                                    <th mat-header-cell *matHeaderCellDef>Document Weight </th>
                                    <td mat-cell *matCellDef="let element"> {{element.document_number}} </td>
                                </ng-container>

                                <!-- Symbol Column -->
                                <ng-container matColumnDef="action">
                                    <th mat-header-cell *matHeaderCellDef> Action </th>
                                    <td mat-cell *matCellDef="let element">
                                        <button mat-icon-button [matMenuTriggerFor]="menu">
                                            <mat-icon>more_vert</mat-icon>
                                        </button>
                                        <mat-menu #menu="matMenu" xPosition="before">
                                            <button mat-menu-item>
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <span>View</span>
                                                    <mat-icon>remove_red_eye</mat-icon>
                                                </div>
                                            </button>
                                            <button mat-menu-item>
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <span>Delete</span>
                                                    <mat-icon>delete_outline</mat-icon>
                                                </div>
                                            </button>
                                        </mat-menu>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>


                        </div>
                    </div>

                </mat-step>
                <mat-step [stepControl]="empRegistration" label="Documents Details">
                    <div formGroupName="type">
                        <div class="row" formArrayName="options">
                            <div *ngFor="let child of empRegistration.get('type.options').controls; let i = index">
                                <div [formGroupName]="i">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <mat-form-field appearance="legacy" class="w-100" formControlName="label">
                                                <mat-label>Document Type</mat-label>
                                                <mat-select>
                                                    <mat-option>PAN Number</mat-option>
                                                    <mat-option>Adhaar Number</mat-option>
                                                    <mat-option>PF Number</mat-option>
                                                    <mat-option>UAN Number</mat-option>
                                                    <mat-option>ESIC Number</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-6">
                                            <mat-form-field appearance="legacy" class="w-100">
                                                <mat-label> Document Number</mat-label>
                                                <input matInput placeholder="Enter document number"
                                                    formControlName="value">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <mat-form-field appearance="legacy" class="w-100">
                                                <mat-label> Enter Compnay </mat-label>
                                                <mat-select>
                                                    <mat-option>Company 1</mat-option>
                                                    <mat-option>Company 2</mat-option>
                                                    <mat-option>Company 3</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-6">
                                            <mat-form-field appearance="legacy" class="w-100">
                                                <mat-label> Enter Department </mat-label>
                                                <mat-select>
                                                    <mat-option>Department 1</mat-option>
                                                    <mat-option>Department 2</mat-option>
                                                    <mat-option>Department 3</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <mat-form-field appearance="legacy" class="w-100">
                                                <mat-label> Enter Designation </mat-label>
                                                <mat-select>
                                                    <mat-option>Designation 1</mat-option>
                                                    <mat-option>Designation 2</mat-option>
                                                    <mat-option>Designation 3</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-sm-6">
                                            <mat-form-field appearance="legacy" class="w-100">
                                                <mat-label> User Type</mat-label>
                                                <mat-select>
                                                    <mat-option>user-type 1</mat-option>
                                                    <mat-option>user-type 2</mat-option>
                                                    <mat-option>user-type 3</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-end">
                        <button mat-stroked-button matStepperPrevious class="me-3 btn-outline-main"
                            type="button">Back</button>
                        <button mat-raised-button matStepperNext class="btn-main" type="button">Next</button>
                    </div>
                </mat-step>
                <mat-step>
                    <ng-template matStepLabel>Done</ng-template>
                    <div class="container">
                        <div class="row">
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label> Username </mat-label>
                                    <input matInput placeholder="Enter username number" formControlName="userName">
                                </mat-form-field>
                            </div>
                            <div class="col-sm-6">
                                <mat-form-field appearance="legacy" class="w-100">
                                    <mat-label> Password</mat-label>
                                    <input matInput placeholder="Enter password" formControlName="password">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="text-end">
                        <button mat-button matStepperPrevious class="me-3 btn-outline-main" type="button">Back</button>
                        <button mat-raised-button (click)="stepper.reset()" class="btn-main"
                            type="button">Reset</button>
                    </div>
                </mat-step>
            </mat-stepper>
        </form>

    </div>

</div>